# Changelog

## v3.3.17
- 统一四家提供商函数内部不再使用 `fetch` 与 `resp`；全部改为 `safeFetchJson` + `f` 变量，避免编译残留。

## v3.3.16
- 修复 `callGemini` 仍使用 `resp` 导致的 `f` 未定义错误；统一改为 `safeFetchJson` 写法。

## v3.3.13
- 本地启发式(local)升级为 **v2**：结合手牌+全桌弃牌做决策
- - 新增 seen 计数，考虑剩余张数
- - 邻接死张修正（邻牌剩余≤1时优先打掉）
- - 对子/刻子加分，鼓励保留
- 打包命名规范改为 `mahjong-ai-match-vX.Y.Z.zip`

## v3.3.12
- 出牌间隔 UI 改为 **秒** 表示，内部仍存 ms
- 输入框 step=0.5s，min=0.5s
- 快捷按钮显示 0.5s / 1s / 1.5s …

## v3.3.11
- 出牌间隔最小改为 0.5s，step=0.5s
- 日志增加座次标记（东/南/西/北）+ AI 名称

## v3.3.10
- 出牌间隔输入允许任意毫秒，取消强制>=100
- 新增快捷按钮：0 / 100 / 200 / 250 / 500 / 1000 ms

## v3.3.9
- API 错误可视化：在日志显示具体错误信息
- 新增请求重试机制 withRetry()
- safeFetchJson() 加入超时、状态码错误处理

## v3.3.8
- 合并 AI Key 输入到对战配置卡片，删除单独的 AI Key 设置卡片

## v3.3.7
- 隐藏前端重复的 Key 输入区，仅保留对战设置中的 Key 输入

## v3.3.6
- 修复 keys useState 声明顺序问题（避免编译错误）

## v3.3.5
- 新增对战配置卡片：四个座位各自选择 AI
- 支持相同 AI 对战
- API Key 输入区自动保存到 localStorage

## v3.3.4
- 初始版本（用户上传）

